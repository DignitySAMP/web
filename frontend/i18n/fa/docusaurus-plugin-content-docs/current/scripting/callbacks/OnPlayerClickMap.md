---
title: OnPlayerClickMap
sidebar_label: OnPlayerClickMap
description: این کالبک زمانی فراخوانده می‌شود که بازیکن یک هدف/نقطه مسیر در نقشه منو مکث قرار دهد (با کلیک راست).
tags: ["player"]
---

## توضیحات

این کالبک زمانی فراخوانده می‌شود که بازیکن یک هدف/نقطه مسیر در نقشه منو مکث قرار دهد (با کلیک راست).

| نام | توضیحات |
| -------- | ----------------------------------------------------------------------------- |
| playerid | شناسه بازیکنی که هدف/نقطه مسیر را قرار داده است |
| Float:fX | مختصات X جایی که بازیکن کلیک کرده است |
| Float:fY | مختصات Y جایی که بازیکن کلیک کرده است |
| Float:fZ | مختصات Z جایی که بازیکن کلیک کرده است (نادقیق - نکته زیر را ببینید) |

## مقادیر برگشتی

1 - از دریافت این کالبک به دیگر فیلتر اسکریپت‌ها جلوگیری می‌کند.

0 - نشان می‌دهد که این کالبک به فیلتر اسکریپت بعدی انتقال داده می‌شود.

این همیشه ابتدا در گیم مود فراخوانده می‌شود.

## مثال‌ها

```c
public OnPlayerClickMap(playerid, Float:fX, Float:fY, Float:fZ)
{
    SetPlayerPosFindZ(playerid, fX, fY, fZ);
    return 1;
}
```

## نکته‌ها

:::tip

همانطور که نام کالبک می‌گوید، فقط زمانی فراخوانده می‌شود که بازیکن کلیک کند تا هدف را علامت‌گذاری کند و نه زمانی که کلید را فشار دهد. مقدار Z برگشت داده شده 0 (نامعتبر) خواهد بود اگر ناحیه کلیک شده روی نقشه از بازیکن دور باشد؛ از افزونه [MapAndreas](https://github.com/philip1337/samp-plugin-mapandreas) یا [ColAndreas](https://github.com/Pottus/ColAndreas) برای به دست آوردن مختصات Z دقیق‌تر استفاده کنید.

:::

## توابع مرتبط

توابع زیر ممکن است مفید باشند، زیرا به نوعی با این کالبک در ارتباط هستند.

- [GetPlayerPos](../functions/GetPlayerPos): گرفتن موقعیت بازیکن.
- [SetPlayerPos](../functions/SetPlayerPos): تنظیم موقعیت بازیکن.
- [SetPlayerPosFindZ](../functions/SetPlayerPosFindZ): تنظیم موقعیت بازیکن و پیدا کردن زمین.